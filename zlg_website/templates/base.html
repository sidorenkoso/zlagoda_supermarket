<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <title>{% block title %}Home{% endblock %}</title>
</head>
<body class="bg-white text-black">

    <!-- üîß –Ñ–¥–∏–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å -->
    <nav class="bg-blue-100 p-6">
        <div class="flex items-center justify-between">
            <!-- –õ–æ–≥–æ -->
            <div class="text-black text-2xl font-black mr-16">ZLAGODA</div>

            <!-- –ú–µ–Ω—é -->
            {% if user.is_authenticated %}
            <div class="flex gap-8 max-md:gap-5 max-sm:hidden">
                <a href="/" class="text-xl cursor-pointer max-md:text-base">–ì–æ–ª–æ–≤–Ω–∞</a>
                <a href="/employees" class="text-xl cursor-pointer max-md:text-base">–ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏</a>
                <a href="/categories" class="text-xl cursor-pointer max-md:text-base">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</a>
                <a href="/products" class="text-xl cursor-pointer max-md:text-base">–¢–æ–≤–∞—Ä–∏</a>
                <a href="/stock" class="text-xl cursor-pointer max-md:text-base">–ù–∞—è–≤–Ω—ñ—Å—Ç—å</a>
                <a href="/clients" class="text-xl cursor-pointer max-md:text-base">–ö–ª—ñ—î–Ω—Ç–∏</a>
                <a href="/receipts" class="text-xl cursor-pointer max-md:text-base">–ß–µ–∫–∏</a>
            </div>
            {% endif %}

            <!-- –Ü–Ω—Ñ–æ –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
            {% if user.is_authenticated %}
            <div class="flex items-center gap-6">
                <div class="px-4 border-2 border-blue-500 rounded-xl bg-blue-50 text-right">
                    <!-- –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
                    <p class="text-base font-semibold">
                        {% if user.position == '–ö–∞—Å–∏—Ä' %}
                            –ö–∞—Å–∏—Ä
                        {% elif user.position == '–ú–µ–Ω–µ–¥–∂–µ—Ä' %}
                            –ú–µ–Ω–µ–¥–∂–µ—Ä
                        {% else %}
                            {{ user.position }}
                        {% endif %}
                    </p>
                    <p class="text-sm">{{ user.email }}</p>
                </div>
                <a href="/welcome" class="text-black font-bold mr-4">Home</a>
                <a href="/logout" class="text-black font-bold">Logout</a>
            </div>
            {% else %}
            <a href="/login" class="text-black font-bold">Login</a>
            {% endif %}
        </div>
    </nav>

    <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
    <div class="fixed top-4 right-4 w-1/3 z-50 space-y-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="p-4 rounded shadow-md flex items-center justify-between
                            {{ 'bg-red-500' if category == 'error' else 'bg-green-500' }}
                            text-white">
                    <span>{{ message }}</span>
                    <button type="button" class="ml-4 text-white font-bold text-xl leading-none"
                            onclick="this.parentElement.style.display='none';">
                        &times;
                    </button>
                </div>
            {% endfor %}
        {% endif %}
        {% endwith %}
    </div>

    <div class="container mx-auto px-4">
        {% block content %}{% endblock %}
    </div>

</body>
</html>